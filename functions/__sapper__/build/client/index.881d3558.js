import{S as t,i as e,s as n,e as l,t as s,a,c as r,b as c,d as i,f as o,g as h,h as u,j as f,k as d,l as p,m as v,r as m,n as $,o as g,p as E,q as y,u as k,v as T,H as S,w as b,x as N,y as L,z as O,A as j,B as w,C as I,D as A,E as D,F as R}from"./client.2aaea4cc.js";function U(t){let e,n,E,y,k,T,S,b,N,L;return{c(){e=l("div"),n=l("button"),E=s("cancel"),y=a(),k=l("input"),T=a(),S=l("button"),b=s("ok"),this.h()},l(t){e=r(t,"DIV",{class:!0});var l=c(e);n=r(l,"BUTTON",{class:!0});var s=c(n);E=i(s,"cancel"),s.forEach(o),y=h(l),k=r(l,"INPUT",{type:!0,class:!0}),T=h(l),S=r(l,"BUTTON",{disabled:!0,class:!0});var a=c(S);b=i(a,"ok"),a.forEach(o),l.forEach(o),this.h()},h(){u(n,"class","svelte-1u4yt2f"),u(k,"type","text"),u(k,"class","svelte-1u4yt2f"),f(k,"valid",!t[0]),S.disabled=N=!t[0],u(S,"class","svelte-1u4yt2f"),u(e,"class","container svelte-1u4yt2f")},m(l,s,a){d(l,e,s),p(e,n),p(n,E),p(e,y),p(e,k),v(k,t[1]),p(e,T),p(e,S),p(S,b),a&&m(L),L=[$(k,"input",t[6]),$(k,"keyup",t[2]),$(S,"click",t[3])]},p(t,[e]){2&e&&k.value!==t[1]&&v(k,t[1]),1&e&&f(k,"valid",!t[0]),1&e&&N!==(N=!t[0])&&(S.disabled=N)},i:g,o:g,d(t){t&&o(e),m(L)}}}function x(t,e,n){let{valid:l=!0}=e;const s=E(),a=E();let r="https://www.tagesschau.de/xml/rss2";return t.$set=(t=>{"valid"in t&&n(0,l=t.valid)}),[l,r,function(){s("input",r)},function(){s("submit",r),l&&n(1,r="")},s,a,function(){r=this.value,n(1,r)}]}class B extends t{constructor(t){super(),e(this,t,x,U,n,{valid:0})}}function C(t,e,n){const l=t.slice();return l[4]=e[n],l}function P(t){let e,n,f,v,m,g,E=t[4]+"";function k(...e){return t[3](t[4],...e)}return{c(){e=l("li"),n=s(E),f=a(),v=l("button"),m=s("Remove"),this.h()},l(t){e=r(t,"LI",{class:!0});var l=c(e);n=i(l,E),l.forEach(o),f=h(t),v=r(t,"BUTTON",{});var s=c(v);m=i(s,"Remove"),s.forEach(o),this.h()},h(){u(e,"class","url svelte-zvlc9r")},m(t,l,s){d(t,e,l),p(e,n),d(t,f,l),d(t,v,l),p(v,m),s&&g(),g=$(v,"click",k)},p(e,l){t=e,1&l&&E!==(E=t[4]+"")&&y(n,E)},d(t){t&&o(e),t&&o(f),t&&o(v),g()}}}function V(t){let e,n=t[0],s=[];for(let e=0;e<n.length;e+=1)s[e]=P(C(t,n,e));return{c(){e=l("ul");for(let t=0;t<s.length;t+=1)s[t].c()},l(t){e=r(t,"UL",{});var n=c(e);for(let t=0;t<s.length;t+=1)s[t].l(n);n.forEach(o)},m(t,n){d(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(t,[l]){if(3&l){let a;for(n=t[0],a=0;a<n.length;a+=1){const r=C(t,n,a);s[a]?s[a].p(r,l):(s[a]=P(r),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},i:g,o:g,d(t){t&&o(e),k(s,t)}}}function q(t,e,n){let{rssList:l=[]}=e;const s=E();function a(t){s("remove",t)}return t.$set=(t=>{"rssList"in t&&n(0,l=t.rssList)}),[l,a,s,t=>a(t)]}class z extends t{constructor(t){super(),e(this,t,q,V,n,{rssList:0})}}function F(t){let e,n;return{c(){e=l("span"),n=s(t[2]),this.h()},l(l){e=r(l,"SPAN",{class:!0});var s=c(e);n=i(s,t[2]),s.forEach(o),this.h()},h(){u(e,"class","date svelte-39r4lv")},m(t,l){d(t,e,l),p(e,n)},p(t,e){4&e&&y(n,t[2])},d(t){t&&o(e)}}}function H(t){let e,n;return{c(){e=l("summary"),n=s(t[3])},l(l){e=r(l,"SUMMARY",{});var s=c(e);n=i(s,t[3]),s.forEach(o)},m(t,l){d(t,e,l),p(e,n)},p(t,e){8&e&&y(n,t[3])},d(t){t&&o(e)}}}function J(t){let e,n,f,v,m,g,E,y,k=t[0].content+"",b=t[0].link&&M(t);return{c(){e=l("p"),f=a(),v=l("span"),m=s("einklappen"),g=a(),b&&b.c(),E=T(),this.h()},l(t){e=r(t,"P",{});var n=c(e);f=h(n),v=r(n,"SPAN",{class:!0});var l=c(v);m=i(l,"einklappen"),l.forEach(o),n.forEach(o),g=h(t),b&&b.l(t),E=T(),this.h()},h(){n=new S(k,f),u(v,"class","collapse svelte-39r4lv")},m(l,s,a){d(l,e,s),n.m(e),p(e,f),p(e,v),p(v,m),d(l,g,s),b&&b.m(l,s),d(l,E,s),a&&y(),y=$(v,"click",t[4])},p(t,e){1&e&&k!==(k=t[0].content+"")&&n.p(k),t[0].link?b?b.p(t,e):((b=M(t)).c(),b.m(E.parentNode,E)):b&&(b.d(1),b=null)},d(t){t&&o(e),t&&o(g),b&&b.d(t),t&&o(E),y()}}}function M(t){let e,n,a,h=t[0].link+"";return{c(){e=l("a"),n=s(h),this.h()},l(t){e=r(t,"A",{class:!0,target:!0,referrerpolicy:!0,href:!0});var l=c(e);n=i(l,h),l.forEach(o),this.h()},h(){u(e,"class","link svelte-39r4lv"),u(e,"target","blank"),u(e,"referrerpolicy","no-referrer"),u(e,"href",a=t[0].link)},m(t,l){d(t,e,l),p(e,n)},p(t,l){1&l&&h!==(h=t[0].link+"")&&y(n,h),1&l&&a!==(a=t[0].link)&&u(e,"href",a)},d(t){t&&o(e)}}}function Y(t){let e,n,f,v,m,E,k,T,S,b,N=t[0].title+"",L=t[2]&&F(t),O=!t[1]&&H(t),j=t[1]&&J(t);return{c(){e=l("article"),n=l("div"),f=l("h4"),v=s(N),m=a(),L&&L.c(),E=a(),k=l("div"),T=l("details"),O&&O.c(),S=a(),j&&j.c(),this.h()},l(t){e=r(t,"ARTICLE",{class:!0});var l=c(e);n=r(l,"DIV",{class:!0});var s=c(n);f=r(s,"H4",{class:!0});var a=c(f);v=i(a,N),a.forEach(o),m=h(s),L&&L.l(s),s.forEach(o),E=h(l),k=r(l,"DIV",{class:!0});var u=c(k);T=r(u,"DETAILS",{class:!0});var d=c(T);O&&O.l(d),S=h(d),j&&j.l(d),d.forEach(o),u.forEach(o),l.forEach(o),this.h()},h(){u(f,"class","title svelte-39r4lv"),u(n,"class","headline svelte-39r4lv"),u(T,"class","svelte-39r4lv"),u(k,"class","content svelte-39r4lv"),u(e,"class","svelte-39r4lv")},m(l,s,a){d(l,e,s),p(e,n),p(n,f),p(f,v),p(n,m),L&&L.m(n,null),p(e,E),p(e,k),p(k,T),O&&O.m(T,null),p(T,S),j&&j.m(T,null),a&&b(),b=$(T,"toggle",t[5])},p(t,[e]){1&e&&N!==(N=t[0].title+"")&&y(v,N),t[2]?L?L.p(t,e):((L=F(t)).c(),L.m(n,null)):L&&(L.d(1),L=null),t[1]?O&&(O.d(1),O=null):O?O.p(t,e):((O=H(t)).c(),O.m(T,S)),t[1]?j?j.p(t,e):((j=J(t)).c(),j.m(T,null)):j&&(j.d(1),j=null)},i:g,o:g,d(t){t&&o(e),L&&L.d(),O&&O.d(),j&&j.d(),b()}}}function G(t,e,n){let l,s,{item:a}=e,r=!1;return t.$set=(t=>{"item"in t&&n(0,a=t.item)}),t.$$.update=(()=>{1&t.$$.dirty&&n(2,l=new Date(a.isoDate).toLocaleDateString()),3&t.$$.dirty&&n(3,s=r?"":a.contentSnippet.slice(0,120)+" ...")}),[a,r,l,s,function(){n(1,r=!1)},function({target:t}){n(1,r=t.open)}]}class K extends t{constructor(t){super(),e(this,t,G,Y,n,{item:0})}}function Q(t,e,n){const l=t.slice();return l[14]=e[n],l[16]=n,l}function W(t){let e;const n=new B({props:{valid:t[3]}});return n.$on("input",t[5]),n.$on("submit",t[6]),{c(){b(n.$$.fragment)},l(t){N(n.$$.fragment,t)},m(t,l){L(n,t,l),e=!0},p(t,e){const l={};8&e&&(l.valid=t[3]),n.$set(l)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){w(n,t)}}}function X(t){let e,n,u,f,v,E;return{c(){e=l("button"),n=s("Add"),u=a(),f=l("button"),v=s("Reload")},l(t){e=r(t,"BUTTON",{});var l=c(e);n=i(l,"Add"),l.forEach(o),u=h(t),f=r(t,"BUTTON",{});var s=c(f);v=i(s,"Reload"),s.forEach(o)},m(l,s,a){d(l,e,s),p(e,n),d(l,u,s),d(l,f,s),p(f,v),a&&m(E),E=[$(e,"click",t[4]),$(f,"click",t[8])]},p:g,d(t){t&&o(e),t&&o(u),t&&o(f),m(E)}}}function Z(t){let e,n,s=t[2],a=[];for(let e=0;e<s.length;e+=1)a[e]=_(Q(t,s,e));const i=t=>j(a[t],1,1,()=>{a[t]=null});return{c(){e=l("section");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=r(t,"SECTION",{class:!0});var n=c(e);for(let t=0;t<a.length;t+=1)a[t].l(n);n.forEach(o),this.h()},h(){u(e,"class","feed svelte-12ke2oh")},m(t,l){d(t,e,l);for(let t=0;t<a.length;t+=1)a[t].m(e,null);n=!0},p(t,n){if(4&n){let l;for(s=t[2],l=0;l<s.length;l+=1){const r=Q(t,s,l);a[l]?(a[l].p(r,n),O(a[l],1)):(a[l]=_(r),a[l].c(),O(a[l],1),a[l].m(e,null))}for(R(),l=s.length;l<a.length;l+=1)i(l);I()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)O(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)j(a[t]);n=!1},d(t){t&&o(e),k(a,t)}}}function _(t){let e;const n=new K({props:{item:t[14],isFirst:0===t[16]}});return{c(){b(n.$$.fragment)},l(t){N(n.$$.fragment,t)},m(t,l){L(n,t,l),e=!0},p(t,e){const l={};4&e&&(l.item=t[14]),n.$set(l)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){w(n,t)}}}function tt(t){let e,n,s,i,f,v,m,$=t[0]&&W(t),g=!t[0]&&X(t);const E=new z({props:{rssList:t[1]}});E.$on("remove",t[7]);let y=t[2]&&t[2].length&&Z(t);return{c(){e=a(),$&&$.c(),n=a(),s=l("section"),i=l("div"),g&&g.c(),f=a(),b(E.$$.fragment),v=a(),y&&y.c(),this.h()},l(t){A('[data-svelte="svelte-q8njyy"]',document.head).forEach(o),e=h(t),$&&$.l(t),n=h(t),s=r(t,"SECTION",{class:!0});var l=c(s);i=r(l,"DIV",{class:!0});var a=c(i);g&&g.l(a),f=h(a),N(E.$$.fragment,a),a.forEach(o),v=h(l),y&&y.l(l),l.forEach(o),this.h()},h(){document.title="Sapper RSS Reader",u(i,"class","feed-list svelte-12ke2oh"),u(s,"class","container svelte-12ke2oh")},m(t,l){d(t,e,l),$&&$.m(t,l),d(t,n,l),d(t,s,l),p(s,i),g&&g.m(i,null),p(i,f),L(E,i,null),p(s,v),y&&y.m(s,null),m=!0},p(t,[e]){t[0]?$?($.p(t,e),O($,1)):(($=W(t)).c(),O($,1),$.m(n.parentNode,n)):$&&(R(),j($,1,1,()=>{$=null}),I()),t[0]?g&&(g.d(1),g=null):g?g.p(t,e):((g=X(t)).c(),g.m(i,f));const l={};2&e&&(l.rssList=t[1]),E.$set(l),t[2]&&t[2].length?y?(y.p(t,e),O(y,1)):((y=Z(t)).c(),O(y,1),y.m(s,null)):y&&(R(),j(y,1,1,()=>{y=null}),I())},i(t){m||(O($),O(E.$$.fragment,t),O(y),m=!0)},o(t){j($),j(E.$$.fragment,t),j(y),m=!1},d(t){t&&o(e),$&&$.d(t),t&&o(n),t&&o(s),g&&g.d(),w(E),y&&y.d()}}}function et(t,e,n){let l,s,a,r=!1;D(()=>{fetch("api/list",{headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>c(t,!0))});function c(t,e=!1){(t.added||t.deleted||e)&&n(1,s=t.rssList)}function i(){fetch("api/refresh").then(t=>t.json()).then(o)}function o({result:t}){n(2,a=t)}let h,u;return t.$$.update=(()=>{512&t.$$.dirty&&n(3,h=l&&(t=>{try{new URL(t)}catch{return!1}return!0})(l)),2&t.$$.dirty&&(u=s&&i())}),[r,s,a,h,function(){n(0,r=!r)},function({detail:t}){t&&t.length>3&&n(9,l=t)},function({detail:t}){fetch("/api/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})}).then(t=>t.json()).then(c)},function({detail:t}){fetch("api/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})}).then(t=>t.json()).then(c)},i]}export default class extends t{constructor(t){super(),e(this,t,et,tt,n,{})}}
